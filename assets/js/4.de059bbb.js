(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{264:function(t,e,n){},283:function(t,e,n){"use strict";n.r(e);n(92);var a=n(87),i=n(45),s=(n(264),n(11)),o=null,d={name:"DbDygraphs",mixins:[i.a],props:{data:{type:Array,default:function(){return[]}},options:{type:Object}},data:function(){return{graph:null,needUpdate:!1,needOptionsUpdate:!1,optionsChanged:!1}},computed:{graphOptions:{get:function(){return Object.assign({},this.defaultOptions,this.options)},set:function(){}},defaultOptions:function(){return{colors:a.a.getColors(this.dark,this.colorScheme),animatedZooms:!0,labelsDiv:this.$refs.dbdylabels,legend:"follow",legendFormatter:this.legendFormatter,zoomCallback:this.handleZoom,clickCallback:this.handleClick}}},mounted:function(){var t=this;n.e(19).then(n.bind(null,280)).then((function(e){s.a.info("dygraphs: imported"),o=e.default,t.$nextTick((function(){t.render()}))}))},watch:{_updated:function(){s.a.info("_updated prop changed"),this.scheduleUpdate()},data:{handler:function(){s.a.info("data prop changed"),this.scheduleUpdate()},deep:!0},options:{handler:function(){this.optionsChanged=!0,this.scheduleUpdate()},deep:!0},dark:function(){this.optionsChanged=!0,this.scheduleUpdate()}},methods:{render:function(){this.graph=new o(this.$refs.container,this.getData(),this.graphOptions)},getData:function(){if(!Array.isArray(this.data))return this.data;if(this.data.length<=0)return this.data;if(Array.isArray(this.data[0]))return this.data;var t=0;return this.data.map((function(e){return[t++,e]}))},scheduleUpdate:function(){var t=this;this.needUpdate=!0,this.$nextTick((function(){t.update()}))},update:function(){this.needUpdate&&(this.needUpdate=!1,this.optionsChanged&&(this.optionsChanged=!1,s.a.info("DbDygraphs: updating options ..."),this.graph.updateOptions(this.graphOptions)),s.a.info("DbDygraphs: updating data ..."),this.graph.updateOptions({file:this.getData()}))},legendFormatter:function(t){if(null==t.x)return""+t.series.map((function(t){return t.dashHTML+" "+t.labelHTML})).join(" ");var e=this.graph.getLabels()[0]+": "+t.xHTML;return t.series.forEach((function(t){if(t.isVisible){var n=t.labelHTML+": "+t.yHTML;t.isHighlighted&&(n="<b>"+n+"</b>"),e+="<br>"+t.dashHTML+" "+n}})),e},handleClick:function(t,e,n){s.a.debug("handleClick: x:".concat(e,", points:").concat(JSON.stringify(n))),this.$emit("db-event",{type:"click",x:e,points:n})},handleZoom:function(t,e,n){s.a.debug("handleZoom: minDate:"+t+", maxDate:"+e+", yRanges:"+n),this.$emit("db-event",{type:"zoom",minDate:Math.floor(t),maxDate:Math.floor(e),yRanges:n})}}},r=n(6),h=Object(r.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"container",staticClass:"db-dygraphs"})}),[],!1,null,null,null);e.default=h.exports}}]);